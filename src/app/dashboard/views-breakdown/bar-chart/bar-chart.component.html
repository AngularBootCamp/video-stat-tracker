@if (graphData) {
  <svg
    [attr.viewBox]="
      '0 0 ' + (graphData.width + 50) + ' ' + (graphData.height + 50)
    "
  >
    <line
      x1="50"
      x2="50"
      y1="1"
      [attr.y2]="graphData.height"
      stroke-width="1"
      stroke="black"
    ></line>
    <line
      x1="50"
      x2="499"
      [attr.y1]="graphData.height"
      [attr.y2]="graphData.height"
      stroke-width="1"
      stroke="black"
    ></line>
    <text x="1" y="100">Views</text>
    <text x="240" [attr.y]="graphData.height + 25">Age</text>
    @for (rect of graphData?.rectList; track rect) {
      <text
        [attr.x]="(rect.x ?? 0) + (rect.width ?? 0) / 2 + 43"
        [attr.y]="graphData.height + 14"
      >
        {{ rect.value }}
      </text>
    }
    @for (rect of graphData?.rectList; track rect) {
      <line
        stroke-width="1"
        stroke="black"
        [attr.x1]="(rect.x ?? 0) + (rect.width ?? 0) / 2 + 50"
        [attr.x2]="(rect.x ?? 0) + (rect.width ?? 0) / 2 + 50"
        y1="0"
        [attr.y2]="graphData.height + 7"
      ></line>
    }
    @for (rect of graphData?.rectList; track rect) {
      <rect
        [attr.x]="(rect.x ?? 0) + 50"
        [attr.y]="rect.y"
        [attr.width]="rect.width"
        [attr.height]="rect.height"
        stroke="black"
        fill="#4439a0"
      ></rect>
    }
    @for (rect of graphData?.rectList; track rect) {
      <text
        stroke="white"
        [attr.x]="(rect.x ?? 0) + (rect.width ?? 0) / 2 + 43"
        [attr.y]="(rect.y ?? 0) + 15"
      >
        {{ rect.count }}
      </text>
    }
  </svg>
}
